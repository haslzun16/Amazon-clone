{"ast":null,"code":"import _slicedToArray from\"/Users/haslhoff/Desktop/Amazon-clone/amazon-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{db}from'./firebase';import'./Orders.css';import{useStateValue}from'./StateProvider';import Order from'./Order';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Orders(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];console.log('i am the user >>>>',user);useEffect(function(){if(user){db.collection('user').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){return setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);console.log('i am the order >>>>',orders);return/*#__PURE__*/_jsxs(\"div\",{className:\"orders\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your orders\"}),/*#__PURE__*/_jsx(\"div\",{class:\"orders__order\",children:orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/_jsx(Order,{order:order});})})]});}export default Orders;","map":{"version":3,"sources":["/Users/haslhoff/Desktop/Amazon-clone/amazon-clone/src/Orders.js"],"names":["React","useEffect","useState","db","useStateValue","Order","Orders","orders","setOrders","basket","user","dispatch","console","log","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"mappings":"oIAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAO,cAAP,CACA,OAASC,aAAT,KAA8B,iBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CACd,cAA4BJ,QAAQ,CAAC,EAAD,CAApC,wCAAOK,MAAP,eAAeC,SAAf,eACA,mBAAoCJ,aAAa,EAAjD,sFAASK,MAAT,kBAASA,MAAT,CAAiBC,IAAjB,kBAAiBA,IAAjB,CAAwBC,QAAxB,oBAGAC,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkCH,IAAlC,EACAT,SAAS,CAAC,UAAM,CACZ,GAAGS,IAAH,CAAQ,CACRP,EAAE,CAACW,UAAH,CAAc,MAAd,EACCC,GADD,CACKL,IADL,SACKA,IADL,iBACKA,IAAI,CAAEM,GADX,EAECF,UAFD,CAEY,QAFZ,EAGCG,OAHD,CAGS,SAHT,CAGoB,MAHpB,EAICC,UAJD,CAIY,SAAAC,QAAQ,QAChBX,CAAAA,SAAS,CAACW,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAN,GAAG,QAAK,CAChCO,EAAE,CAAEP,GAAG,CAACO,EADwB,CAEhCC,IAAI,CAAER,GAAG,CAACQ,IAAJ,EAF0B,CAAL,EAArB,CAAD,CADO,EAJpB,EAUC,CAXD,IAWK,CACDf,SAAS,CAAC,EAAD,CAAT,CACH,CAEJ,CAhBQ,CAgBN,CAACE,IAAD,CAhBM,CAAT,CAiBJE,OAAO,CAACC,GAAR,CAAY,qBAAZ,CAAmCN,MAAnC,EACI,mBACI,aAAK,SAAS,CAAC,QAAf,wBACI,mCADJ,cAEI,YAAK,KAAK,CAAC,eAAX,UACKA,MADL,SACKA,MADL,iBACKA,MAAM,CAAEc,GAAR,CAAY,SAAAG,KAAK,qBACd,KAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EADc,EAAjB,CADL,EAFJ,GADJ,CAUH,CAED,cAAelB,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { db } from './firebase';\nimport './Orders.css'\nimport { useStateValue } from './StateProvider';\nimport Order from './Order';\n\nfunction Orders() {\n    const [orders, setOrders] = useState([]);\n    const [{ basket, user}, dispatch] = useStateValue();\n\n\n    console.log('i am the user >>>>', user)\n    useEffect(() => {\n        if(user){\n        db.collection('user')\n        .doc(user?.uid)\n        .collection('orders')\n        .orderBy('created', 'desc')\n        .onSnapshot(snapshot => (\n            setOrders(snapshot.docs.map(doc => ({\n                id: doc.id,\n                data: doc.data()\n            })))\n        ))\n        }else{\n            setOrders([])\n        }\n      \n    }, [user])\nconsole.log('i am the order >>>>', orders)\n    return (\n        <div className=\"orders\">\n            <h1>Your orders</h1>\n            <div class=\"orders__order\"> \n                {orders?.map(order => (\n                    <Order order={order}/>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default Orders\n"]},"metadata":{},"sourceType":"module"}